YUI.add("gallery-scrollintoview",function(e,t){"use strict";function n(t){var r=t.scrollIntoViewData;for(;;){var i=r.a.offsetParent===null,s=e.one(r.a),o=e.Node.getDOMNode(s)===e.config.doc.body,u=o?e.DOM.winWidth():r.a.clientWidth,a=o?e.DOM.winHeight():r.a.clientHeight;if(r.a.scrollWidth-s.horizMarginBorderPadding()>u||r.a.scrollHeight-s.vertMarginBorderPadding()>a)break;if(i)return t.fire("scrollIntoViewFinished"),t.scrollIntoViewData=null,!1;r.r.move(r.a.offsetLeft-r.a.scrollLeft,r.a.offsetTop-r.a.scrollTop),r.a=r.a.offsetParent||r.a.parentNode}var f=i?e.config.doc.documentElement.scrollLeft||e.config.doc.body.scrollLeft:r.a.scrollLeft,l=i?e.config.doc.documentElement.scrollTop||e.config.doc.body.scrollTop:r.a.scrollTop,c={top:l,bottom:l+(i?e.DOM.winHeight():r.a.clientHeight),left:f,right:f+(i?e.DOM.winWidth():r.a.clientWidth)};i&&r.margin&&(c.top+=r.margin.top||0,c.bottom-=r.margin.bottom||0,c.left+=r.margin.left||0,c.right-=r.margin.right||0);var h=0;s.getStyle("overflowY")!="hidden"&&(r.r.top<c.top?h=r.r.top-c.top:r.r.bottom>c.bottom&&(h=Math.min(r.r.bottom-c.bottom,r.r.top-c.top)));var p=0;s.getStyle("overflowX")!="hidden"&&(r.r.left<c.left?p=r.r.left-c.left:r.r.right>c.right&&(p=Math.min(r.r.right-c.right,r.r.left-c.left)));if(i){console.log(p+","+h);if(p||h)if(r.anim){var d=e.one("body");r.anim.setAttrs({node:d,to:{scrollLeft:d.get("scrollLeft")+p,scrollTop:d.get("scrollTop")+h}}),r.anim.once("end",function(){t.fire("scrollIntoViewFinished")}),r.anim.run()}else window.scrollBy(p,h),t.fire("scrollIntoViewFinished");else r.anim&&e.later(0,null,function(){t.fire("scrollIntoViewFinished")});return t.scrollIntoViewData=null,!1}return console.log(p+","+h),p||h?r.anim?(r.anim.setAttrs({node:e.one(r.a),to:{scrollLeft:r.a.scrollLeft+p,scrollTop:r.a.scrollTop+h}}),r.anim.once("end",function(){r.r.move(r.a.offsetLeft-r.a.scrollLeft,r.a.offsetTop-r.a.scrollTop),r.a=r.a.offsetParent,n(t)}),r.anim.run()):(r.a.scrollLeft+=p,r.a.scrollTop+=h,r.r.move(r.a.offsetLeft-r.a.scrollLeft,r.a.offsetTop-r.a.scrollTop),r.a=r.a.offsetParent):r.anim?e.later(0,null,function(){r.r.move(r.a.offsetLeft-r.a.scrollLeft,r.a.offsetTop-r.a.scrollTop),r.a=r.a.offsetParent,n(t)}):(r.r.move(r.a.offsetLeft-r.a.scrollLeft,r.a.offsetTop-r.a.scrollTop),r.a=r.a.offsetParent),!0}e.Node.prototype.scrollIntoView=function(t){if(this.scrollIntoViewData)return this;var r=e.Node.getDOMNode(this.get("offsetParent"));if(!r)return this;var i={top:this.get("offsetTop"),bottom:this.get("offsetTop")+this.get("offsetHeight"),left:this.get("offsetLeft"),right:this.get("offsetLeft")+this.get("offsetWidth")};i.move=function(e,t){console.log("move:"+e+","+t),this.top+=t,this.bottom+=t,this.left+=e,this.right+=e},this.scrollIntoViewData={a:r,r:i},t=t||{},this.scrollIntoViewData.margin=t.margin;if(t.anim){var s={};e.Lang.isObject(t.anim)&&e.mix(s,t.anim),this.scrollIntoViewData.anim=new e.Anim(s),n(this)}else while(n(this));return this}},"gallery-2013.04.24-22-00",{requires:["gallery-dimensions","dom-screen"]});
